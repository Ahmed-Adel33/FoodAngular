"use strict";(self.webpackChunkFood_project_angular=self.webpackChunkFood_project_angular||[]).push([[965],{4965:(p,d,o)=>{o.r(d),o.d(d,{DashboardModule:()=>M});var s=o(6814),u=o(4515),e=o(5879),l=o(7862),m=o(139),a=o(4581),g=o(7700),f=o(2425),v=o(617);function b(t,h){1&t&&e._UZ(0,"img",19)}let Z=(()=>{class t{constructor(r){this._HelperService=r,this.userName=localStorage.getItem("userName")?localStorage.getItem("userName"):"Guest",this.isDarkMode=this._HelperService.isDarkMode(),this._HelperService.getCurrentUser().subscribe({next:n=>{console.log(n),this.currentUser=n},error:n=>{},complete:()=>{}})}toggleTheme(){this.isDarkMode=!this.isDarkMode,this._HelperService.setDarkMode(this.isDarkMode)}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(l.W))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-navbar"]],decls:27,vars:5,consts:[["id","navbar"],[1,"container-fluid"],[1,"row"],[1,"col-3","ms-auto","d-flex","justify-content-between","align-items-center","justify-content-end"],[1,"d-flex","align-items-center"],["routerLink","/dashboard/userProfile",1,"user-avater"],[1,"user-avatar",3,"src"],["src","assets/images/dummy-avatar-profile.jpg",4,"ngIf"],[1,"ms-2"],[1,"user-name","h5"],[1,"d-block"],[1,"dropdown","ms-2"],["role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],["routerLink","/dashboard/userProfile",1,"dropdown-item","bg-info"],["routerLink","/dashboard/userProfile/edit",1,"dropdown-item"],[1,"mx-3","fs-4","fw-bold"],[1,"fa-solid","fa-bell"],[1,"mat-icon-button",3,"click"],["src","assets/images/dummy-avatar-profile.jpg"]],template:function(n,i){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),e._UZ(6,"img",6),e.YNc(7,b,1,0,"img",7),e.qZA(),e.TgZ(8,"span",8)(9,"span",9),e._uU(10),e.qZA(),e.TgZ(11,"span",10),e._uU(12),e.qZA()(),e.TgZ(13,"div",11),e._UZ(14,"a",12),e.TgZ(15,"ul",13)(16,"li")(17,"a",14),e._uU(18,"Profile"),e.qZA()(),e.TgZ(19,"li")(20,"a",15),e._uU(21,"Edit Profile"),e.qZA()()()()(),e.TgZ(22,"span",16),e._UZ(23,"i",17),e.qZA(),e.TgZ(24,"button",18),e.NdJ("click",function(){return i.toggleTheme()}),e.TgZ(25,"mat-icon"),e._uU(26),e.qZA()()()()()()),2&n&&(e.xp6(6),e.Q6J("src","https://upskilling-egypt.com/"+(null==i.currentUser?null:i.currentUser.imagePath),e.LSH),e.xp6(1),e.Q6J("ngIf",!(null!=i.currentUser&&i.currentUser.imagePath)),e.xp6(3),e.Oqu(null==i.currentUser?null:i.currentUser.userName),e.xp6(2),e.Oqu(null==i.currentUser||null==i.currentUser.group?null:i.currentUser.group.name),e.xp6(14),e.Oqu(i.isDarkMode?"wb_sunny":"nights_stay"))},dependencies:[s.O5,v.Hw,a.rH],styles:["#navbar[_ngcontent-%COMP%]{background-color:#f8f9fb;padding:1rem 0px}#navbar[_ngcontent-%COMP%]   .user-Avater[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}#navbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}#navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f384c}"]})}return t})();const A=function(t){return{"d-flex":t}};function U(t,h){if(1&t&&(e.TgZ(0,"a",13)(1,"div",6)(2,"span"),e._UZ(3,"i"),e.qZA(),e.TgZ(4,"span",14),e._uU(5),e.qZA()()()),2&t){const r=e.oxw().$implicit,n=e.oxw();e.Q6J("routerLink",r.link),e.xp6(3),e.Tol(r.icon),e.xp6(1),e.Q6J("ngClass",e.VKq(5,A,!n.isOpened)),e.xp6(1),e.Oqu(r.title)}}function C(t,h){if(1&t&&(e.ynx(0),e.YNc(1,U,6,7,"a",12),e.BQk()),2&t){const r=h.$implicit;e.xp6(1),e.Q6J("ngIf",r.isActive)}}let k=(()=>{class t{constructor(r,n,i,c,O){this._HelperService=r,this._AuthService=n,this.router=i,this.dialog=c,this.tostar=O,this.isOpened=!0,this.menu=[{title:"Home",icon:"fa-solid fa-house",link:"/dashboard/home",isActive:this.isAdmin()||this.isUser()},{title:"Users",icon:"fa-solid fa-user-group",link:"/dashboard/admin/users",isActive:this.isAdmin()},{title:"Recipes",icon:"fa-solid fa-bowl-food",link:"/dashboard/admin/recipes",isActive:this.isAdmin()},{title:"Categories",icon:"fa-solid fa-calendar-days",link:"/dashboard/admin/categories",isActive:this.isAdmin()},{title:"User Recipes",icon:"fa-solid fa-calendar-days",link:"/dashboard/user/recipes",isActive:this.isUser()},{title:"favoriets",icon:"fa-solid fa-calendar-days",link:"/dashboard/user/favorites",isActive:this.isUser()}],this.isDarkMode=this._HelperService.isDarkMode()}ngOnInit(){}isAdmin(){return"SuperAdmin"==this._AuthService.role}isUser(){return"SystemUser"==this._AuthService.role}logout(){localStorage.removeItem("role"),localStorage.removeItem("userToken"),localStorage.removeItem("userName"),this.router.navigate(["/auth"])}openDialog(){this.dialog.open(u.b,{data:{},width:"40%"}).afterClosed().subscribe(n=>{n&&(localStorage.removeItem("userToken"),localStorage.removeItem("role"),localStorage.removeItem("userName"),this.router.navigate(["/auth"]))})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(l.W),e.Y36(m.e),e.Y36(a.F0),e.Y36(g.uw),e.Y36(f._W))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-dashboard"]],decls:21,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"px-0","bgDark","sidebar","vh-100"],[1,"text-center","mt-3",3,"click"],["src","assets/images/nav-icon.png","alt","",1,"w-50"],[4,"ngFor","ngForOf"],[1,"item"],[1,"fa-solid","fa-lock-open"],[1,"mx-2",3,"click"],[1,"item",3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"mx-2"],["class","d-block text-decoration-none","routerLinkActive","bg-active",3,"routerLink",4,"ngIf"],["routerLinkActive","bg-active",1,"d-block","text-decoration-none",3,"routerLink"],[1,"mx-2",3,"ngClass"]],template:function(n,i){1&n&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div")(5,"div",3),e.NdJ("click",function(){return i.isOpened=!i.isOpened}),e._UZ(6,"img",4),e.qZA(),e.YNc(7,C,2,1,"ng-container",5),e.TgZ(8,"div",6)(9,"span"),e._UZ(10,"i",7),e.qZA(),e.TgZ(11,"span",8),e.NdJ("click",function(){return i.openDialog()}),e._uU(12,"Change Password"),e.qZA()(),e.TgZ(13,"div",9),e.NdJ("click",function(){return i.logout()}),e.TgZ(14,"span"),e._UZ(15,"i",10),e.qZA(),e.TgZ(16,"span",11),e._uU(17,"Logout"),e.qZA()()()(),e.TgZ(18,"div"),e._UZ(19,"app-navbar")(20,"router-outlet"),e.qZA()()()()),2&n&&(e.xp6(3),e.Tol(i.isOpened?"col-2":"col-1"),e.xp6(4),e.Q6J("ngForOf",i.menu),e.xp6(11),e.Tol(i.isOpened?"col-10":"col-11"))},dependencies:[s.mk,s.sg,s.O5,a.lC,a.rH,a.Od,Z],styles:[".sidebar[_ngcontent-%COMP%]{border-top-right-radius:58px}.item[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;padding:5px 15px;margin:1rem 0px;cursor:pointer}.bg-active[_ngcontent-%COMP%]{background-color:#0092471a!important}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{transition:all}"]})}return t})();var T=o(4049);const y=[{path:"",component:k,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(){this.userName=localStorage.getItem("userName")}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:24,vars:1,consts:[[1,"home"],[1,"container"],[1,"row"],[1,"col-md-8","d-flex","align-items-center"],[1,"col-md-4"],["src","assets/images/home-avatar.svg","alt","",1,"w-100"],[1,"pt-5"],[1,"text-main"],[1,"home-head","p-5","align-items-center","d-flex","justify-content-between"],["routerLink","/dashboard/admin/recipes/add",1,"btn","btn-success"],[1,"fa-solid","fa-arrow-right"]],template:function(n,i){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8,"This is a welcoming screen for the entry of the application , you can now see the options"),e.qZA()()(),e.TgZ(9,"div",4)(10,"div"),e._UZ(11,"img",5),e.qZA()()()()(),e.TgZ(12,"section")(13,"h2",6),e._uU(14,"Show the "),e.TgZ(15,"span",7),e._uU(16,"Recipes !"),e.qZA()(),e.TgZ(17,"div",8)(18,"p"),e._uU(19,"you can now fill the meals easily using the table and form , click here and sill it with the table !"),e.qZA(),e.TgZ(20,"button",9),e._uU(21,"Fill Recipe "),e._UZ(22,"i",10),e.qZA()(),e._UZ(23,"div"),e.qZA()),2&n&&(e.xp6(6),e.hij("welcome ",i.userName,""))},dependencies:[a.rH],styles:[".home[_ngcontent-%COMP%]{background-image:url(header-bg.e7cd2c7a9e952177.svg);background-size:cover;background-repeat:no-repeat;background-position:center center;border-radius:15px;color:#fff}"]})}return t})()},{path:"admin",canActivate:[(()=>{class t{constructor(r,n){this.router=r,n.getProfile()}canActivate(r,n){return null!==localStorage.getItem("userToken")&&"SuperAdmin"==localStorage.getItem("role")||(this.router.navigate(["/dashboard"]),!1)}static#e=this.\u0275fac=function(n){return new(n||t)(e.LFG(a.F0),e.LFG(m.e))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()],loadChildren:()=>o.e(886).then(o.bind(o,2886)).then(t=>t.AdminModule)},{path:"user",canActivate:[(()=>{class t{constructor(r,n){this.router=r,this._AuthService=n,this._AuthService.getProfile()}canActivate(r,n){return null!==localStorage.getItem("userToken")&&"SystemUser"==localStorage.getItem("role")||(this.router.navigate(["/dashboard"]),!1)}static#e=this.\u0275fac=function(n){return new(n||t)(e.LFG(a.F0),e.LFG(m.e))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()],loadChildren:()=>o.e(298).then(o.bind(o,7298)).then(t=>t.UserModule)},{path:"userProfile",loadChildren:()=>o.e(54).then(o.bind(o,7054)).then(t=>t.UserProfileModule)}]}];let M=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[s.ez,a.Bz.forChild(y),T.S]})}return t})()},7862:(p,d,o)=>{o.d(d,{W:()=>e});var s=o(5879),u=o(9862);let e=(()=>{class l{constructor(a){this._HttpClient=a,this.darkMode=!1}getTags(){return this._HttpClient.get("tag")}getCategories(){return this._HttpClient.get("Category",{params:{pageSize:100}})}getCurrentUser(){return this._HttpClient.get("Users/CurrentUser")}isDarkMode(){return this.darkMode}setDarkMode(a){this.darkMode=a,a?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")}static#e=this.\u0275fac=function(g){return new(g||l)(s.LFG(u.eN))};static#t=this.\u0275prov=s.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);
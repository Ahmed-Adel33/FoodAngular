"use strict";(self.webpackChunkFood_project_angular=self.webpackChunkFood_project_angular||[]).push([[54],{7054:(N,u,a)=>{a.r(u),a.d(u,{UserProfileModule:()=>P});var d=a(6814),r=a(6223),e=a(5879),m=a(4581),g=a(7862),f=a(2425),h=a(139),c=a(4426);function _(i,l){1&i&&(e.TgZ(0,"ngx-dropzone-label"),e._UZ(1,"i",29),e._uU(2," Drag & Drop or "),e.TgZ(3,"span",30),e._uU(4,"choose a Item Image "),e.qZA(),e._uU(5,"to Upload"),e.qZA())}function b(i,l){if(1&i&&(e.TgZ(0,"ngx-dropzone-label"),e._UZ(1,"img",31),e.qZA()),2&i){const o=e.oxw();e.xp6(1),e.Q6J("src",o.imgSrc,e.LSH)}}function x(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",32),e.NdJ("removed",function(){const s=e.CHM(o).$implicit,p=e.oxw();return e.KtG(p.onRemove(s))}),e.qZA()}2&i&&e.Q6J("file",l.$implicit)("removable",!0)}let v=(()=>{class i{constructor(o,t,n,s){this.router=o,this._HelperService=t,this.toastr=n,this._AuthService=s,this.Message="",this.hideConfirm=!0,this.userProfile=new r.cw({userName:new r.NI(null,[r.kI.required]),email:new r.NI(null,[r.kI.required,r.kI.email]),country:new r.NI(null,[r.kI.required]),phoneNumber:new r.NI(null,[r.kI.required,r.kI.pattern("^01[0-2,5]{1}[0-9]{8}$")]),profileImage:new r.NI(null,[r.kI.required]),confirmPassword:new r.NI(null,[r.kI.required,r.kI.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,16}$")])}),this.files=[]}ngOnInit(){this.getCurrentUser()}getCurrentUser(){this._HelperService.getCurrentUser().subscribe({next:o=>{this.currentUser=o,console.log(this.currentUser)},error:o=>{console.log(o)},complete:()=>{}})}onSubmit(o){let t=new FormData;t.append("userName",o.value.userName),t.append("email",o.value.email),t.append("country",o.value.country),t.append("phoneNumber",o.value.phoneNumber),t.append("profileImage",this.imgSrc,this.imgSrc.name),t.append("confirmPassword",o.value.confirmPassword),this._AuthService.edituser(t).subscribe({next:n=>{console.log(n),this.Message=n.message},error:n=>{this.toastr.error(n.error.message,"Error")},complete:()=>{this.toastr.success(this.Message,"Successfully")}})}onSelect(o){console.log(o),this.imgSrc=o.addedFiles[0],this.files.push(...o.addedFiles)}onRemove(o){console.log(o),this.files.splice(this.files.indexOf(o),1)}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(g.W),e.Y36(f._W),e.Y36(h.e))};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-profile"]],decls:46,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-md-10","mx-auto"],[1,"card-auth"],[1,"text-center"],[1,"h5"],[3,"formGroup","ngSubmit"],[1,"col-md-6","d-flex"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fa-regular","fa-user"],["formControlName","userName","type","text","placeholder","Enter your userName","aria-label","Enter your userName","aria-describedby","basic-addon1",1,"form-control"],[1,"col-md-6"],[1,"fa-solid","fa-mobile-screen"],["formControlName","email","type","text","placeholder","Enter your E-mail","aria-label","Enter your Email","aria-describedby","basic-addon1",1,"form-control"],[1,"fa-solid","fa-flag"],["formControlName","country","type","text","placeholder","country","aria-label","country","aria-describedby","basic-addon1",1,"form-control"],[1,"fa-solid","fa-phone"],["formControlName","phoneNumber","type","text","placeholder","Phone Number","aria-label","phoneNumber","aria-describedby","basic-addon1",1,"form-control"],[1,"input-group-text"],[1,"fa-solid","fa-lock"],["formControlName","confirmPassword","placeholder"," confirmPassword",1,"form-control",3,"type"],[1,"input-group-text","eye-icon",3,"click"],[1,"fa-solid"],[1,"col-md-12","text-center"],[3,"multiple","change"],[4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[1,"btn","bg-main","text-white","w-100"],[1,"fa-solid","fa-arrow-up-from-bracket","d-block"],[1,"text-main"],["alt","",1,"w-25",3,"src"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"]],template:function(t,n){1&t&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"div",4),e.TgZ(6,"h2",5),e._uU(7,"Edit Profile"),e.qZA(),e.TgZ(8,"P"),e._uU(9,"welcome Back!Please enter your details"),e.qZA(),e.TgZ(10,"form",6),e.NdJ("ngSubmit",function(){return n.onSubmit(n.userProfile)}),e.TgZ(11,"div",1)(12,"div",7)(13,"div",8)(14,"span",9),e._UZ(15,"i",10),e.qZA(),e._UZ(16,"input",11),e.qZA()(),e.TgZ(17,"div",12)(18,"div",8)(19,"span",9),e._UZ(20,"i",13),e.qZA(),e._UZ(21,"input",14),e.qZA()(),e.TgZ(22,"div",12)(23,"div",8)(24,"span",9),e._UZ(25,"i",15),e.qZA(),e._UZ(26,"input",16),e.qZA()(),e.TgZ(27,"div",12)(28,"div",8)(29,"span",9),e._UZ(30,"i",17),e.qZA(),e._UZ(31,"input",18),e.qZA()(),e.TgZ(32,"div",12)(33,"div",8)(34,"span",19),e._UZ(35,"i",20),e.qZA(),e._UZ(36,"input",21),e.TgZ(37,"span",22),e.NdJ("click",function(){return n.hideConfirm=!n.hideConfirm}),e._UZ(38,"i",23),e.qZA()()(),e.TgZ(39,"div",24)(40,"ngx-dropzone",25),e.NdJ("change",function(p){return n.onSelect(p)}),e.YNc(41,_,6,0,"ngx-dropzone-label",26),e.YNc(42,b,2,1,"ngx-dropzone-label",26),e.YNc(43,x,1,2,"ngx-dropzone-image-preview",27),e.qZA()()(),e.TgZ(44,"button",28),e._uU(45,"save"),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Q6J("formGroup",n.userProfile),e.xp6(26),e.Q6J("type",n.hideConfirm?"password":"text"),e.xp6(2),e.Tol(n.hideConfirm?"fa-eye-slash":"fa-eye"),e.xp6(2),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("ngIf",!n.imgSrc),e.xp6(1),e.Q6J("ngIf",n.imgSrc),e.xp6(1),e.Q6J("ngForOf",n.files))},dependencies:[d.sg,d.O5,c._f,c.NP,c.sv,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["body[_ngcontent-%COMP%]{background-color:#00f}.card[_ngcontent-%COMP%]{border:none}.image[_ngcontent-%COMP%]{position:relative}.image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#00f;color:#fff;padding:6px;height:30px;width:30px;border-radius:50%;font-size:13px;position:absolute;display:flex;justify-content:center;align-items:center;top:-0px;right:0}.user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#00f}.ratings[_ngcontent-%COMP%]{font-size:30px;font-weight:600;display:flex;justify-content:left;align-items:center;color:#f9b43a}.user-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left}.inputs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;margin-left:3px;font-weight:500;font-size:13px;margin-bottom:4px}.inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;height:40px;border:2px solid #ced4da}.inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none;border:2px solid blue}.about-inputs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;margin-left:3px;font-weight:500;font-size:13px;margin-bottom:4px}.about-inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:14px;height:100px;border:2px solid #ced4da;resize:none}.about-inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:none}.btn[_ngcontent-%COMP%]{font-weight:600}.btn[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}return i})();var Z=a(4049);function C(i,l){1&i&&(e.TgZ(0,"ngx-dropzone-label"),e._UZ(1,"i",29),e._uU(2," Drag & Drop or "),e.TgZ(3,"span",30),e._uU(4,"choose a Item Image "),e.qZA(),e._uU(5,"to Upload"),e.qZA())}function w(i,l){if(1&i&&(e.TgZ(0,"ngx-dropzone-label"),e._UZ(1,"img",31),e.qZA()),2&i){const o=e.oxw();e.xp6(1),e.Q6J("src",o.imgSrc,e.LSH)}}function y(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",32),e.NdJ("removed",function(){const s=e.CHM(o).$implicit,p=e.oxw();return e.KtG(p.onRemove(s))}),e.qZA()}2&i&&e.Q6J("file",l.$implicit)("removable",!0)}const U=[{path:"",component:v},{path:"edit",component:(()=>{class i{constructor(o,t,n,s){this.router=o,this._HelperService=t,this.toastr=n,this._AuthService=s,this.Message="",this.hideConfirm=!0,this.editProfile=new r.cw({userName:new r.NI(null,[r.kI.required]),email:new r.NI(null,[r.kI.required,r.kI.email]),country:new r.NI(null,[r.kI.required]),phoneNumber:new r.NI(null,[r.kI.required,r.kI.pattern("^01[0-2,5]{1}[0-9]{8}$")]),profileImage:new r.NI(null,[r.kI.required]),confirmPassword:new r.NI(null,[r.kI.required,r.kI.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,16}$")])}),this.files=[]}ngOnInit(){this.getCurrentUser()}getCurrentUser(){this._HelperService.getCurrentUser().subscribe({next:o=>{this.currentUser=o,console.log(this.currentUser)},error:o=>{console.log(o)},complete:()=>{this.imgSrc="https://upskilling-egypt.com:443/api/v1/"+this.currentUser+this.imgSrc,this.editProfile.patchValue({userName:this.currentUser.userName,email:this.currentUser.email,country:this.currentUser.country,phoneNumber:this.currentUser.phoneNumber,confirmPassword:this.currentUser.confirmPassword})}})}onSubmit(o){let t=new FormData;t.append("userName",o.value.userName),t.append("email",o.value.email),t.append("country",o.value.country),t.append("phoneNumber",o.value.phoneNumber),t.append("profileImage",this.imgSrc,this.imgSrc.name),t.append("confirmPassword",o.value.confirmPassword),this._AuthService.edituser(t).subscribe({next:n=>{console.log(n),this.Message=n.message},error:n=>{this.toastr.error(n.error.message,"Error")},complete:()=>{this.toastr.success(this.Message,"Successfully")}})}onSelect(o){console.log(o),this.imgSrc=o.addedFiles[0],this.files.push(...o.addedFiles)}onRemove(o){console.log(o),this.files.splice(this.files.indexOf(o),1)}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(g.W),e.Y36(f._W),e.Y36(h.e))};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit"]],decls:46,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-md-10","mx-auto"],[1,"card-auth"],[1,"text-center"],[1,"h5"],[3,"formGroup","ngSubmit"],[1,"col-md-6","d-flex"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fa-regular","fa-user"],["formControlName","userName","type","text","placeholder","Enter your userName","aria-label","Enter your userName","aria-describedby","basic-addon1",1,"form-control"],[1,"col-md-6"],[1,"fa-solid","fa-mobile-screen"],["formControlName","email","type","text","placeholder","Enter your E-mail","aria-label","Enter your Email","aria-describedby","basic-addon1",1,"form-control"],[1,"fa-solid","fa-flag"],["formControlName","country","type","text","placeholder","country","aria-label","country","aria-describedby","basic-addon1",1,"form-control"],[1,"fa-solid","fa-phone"],["formControlName","phoneNumber","type","text","placeholder","Phone Number","aria-label","phoneNumber","aria-describedby","basic-addon1",1,"form-control"],[1,"input-group-text"],[1,"fa-solid","fa-lock"],["formControlName","confirmPassword","placeholder"," confirmPassword",1,"form-control",3,"type"],[1,"input-group-text","eye-icon",3,"click"],[1,"fa-solid"],[1,"col-md-12","text-center"],[3,"multiple","change"],[4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[1,"btn","bg-main","text-white","w-100"],[1,"fa-solid","fa-arrow-up-from-bracket","d-block"],[1,"text-main"],["alt","",1,"w-25",3,"src"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"]],template:function(t,n){1&t&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"div",4),e.TgZ(6,"h2",5),e._uU(7,"Edit Profile"),e.qZA(),e.TgZ(8,"P"),e._uU(9,"welcome Back!Please enter your details"),e.qZA(),e.TgZ(10,"form",6),e.NdJ("ngSubmit",function(){return n.onSubmit(n.editProfile)}),e.TgZ(11,"div",1)(12,"div",7)(13,"div",8)(14,"span",9),e._UZ(15,"i",10),e.qZA(),e._UZ(16,"input",11),e.qZA()(),e.TgZ(17,"div",12)(18,"div",8)(19,"span",9),e._UZ(20,"i",13),e.qZA(),e._UZ(21,"input",14),e.qZA()(),e.TgZ(22,"div",12)(23,"div",8)(24,"span",9),e._UZ(25,"i",15),e.qZA(),e._UZ(26,"input",16),e.qZA()(),e.TgZ(27,"div",12)(28,"div",8)(29,"span",9),e._UZ(30,"i",17),e.qZA(),e._UZ(31,"input",18),e.qZA()(),e.TgZ(32,"div",12)(33,"div",8)(34,"span",19),e._UZ(35,"i",20),e.qZA(),e._UZ(36,"input",21),e.TgZ(37,"span",22),e.NdJ("click",function(){return n.hideConfirm=!n.hideConfirm}),e._UZ(38,"i",23),e.qZA()()(),e.TgZ(39,"div",24)(40,"ngx-dropzone",25),e.NdJ("change",function(p){return n.onSelect(p)}),e.YNc(41,C,6,0,"ngx-dropzone-label",26),e.YNc(42,w,2,1,"ngx-dropzone-label",26),e.YNc(43,y,1,2,"ngx-dropzone-image-preview",27),e.qZA()()(),e.TgZ(44,"button",28),e._uU(45,"save"),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Q6J("formGroup",n.editProfile),e.xp6(26),e.Q6J("type",n.hideConfirm?"password":"text"),e.xp6(2),e.Tol(n.hideConfirm?"fa-eye-slash":"fa-eye"),e.xp6(2),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("ngIf",!n.imgSrc),e.xp6(1),e.Q6J("ngIf",n.imgSrc),e.xp6(1),e.Q6J("ngForOf",n.files))},dependencies:[d.sg,d.O5,c._f,c.NP,c.sv,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]})}return i})()}];let P=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#o=this.\u0275mod=e.oAB({type:i});static#r=this.\u0275inj=e.cJS({imports:[d.ez,m.Bz.forChild(U),Z.S]})}return i})()}}]);
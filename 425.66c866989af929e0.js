"use strict";(self.webpackChunkFood_project_angular=self.webpackChunkFood_project_angular||[]).push([[425],{3425:(S,c,i)=>{i.r(c),i.d(c,{CategoriesModule:()=>M});var u=i(4049),d=i(6814),g=i(7700),e=i(5879),l=i(6223);let p=(()=>{class n{constructor(t,a){this.dialogRef=t,this.data=a,this.categoryName="",this.isLoading=!1,this.categoryName=this.data.categoryName||""}ngOnInit(){}onSubmit(){}onclose(){this.dialogRef.close()}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(g.so),e.Y36(g.WI))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-Add-Edit-category"]],decls:12,vars:2,consts:[[1,"auth-card","p-5"],[1,"d-flex","align-items-center","justify-content-between"],[3,"click"],[1,"fa-regular","fa-circle-xmark","text-danger"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-filter"],["type","text","placeholder"," Category Name","aria-describedby","basic-addon1","aria-label","Enter your categoryName",1,"form-control",3,"ngModel","ngModelChange"],["cdkFocusInitial","",1,"btn","bg-main","text-white","w-100",3,"mat-dialog-close"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"h5",1)(2,"span"),e._uU(3,"Add Category"),e.qZA(),e.TgZ(4,"span",2),e.NdJ("click",function(){return o.onclose()}),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"span",5),e._UZ(8,"i",6),e.qZA(),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(r){return o.categoryName=r}),e.qZA()(),e.TgZ(10,"button",8),e._uU(11,"save "),e.qZA()()),2&a&&(e.xp6(9),e.Q6J("ngModel",o.categoryName),e.xp6(1),e.Q6J("mat-dialog-close",o.categoryName))},dependencies:[l.Fj,l.JJ,g.ZT,l.On]})}return n})();var h=i(7027),m=i(9862);let C=(()=>{class n{constructor(t){this._HttpClient=t}getCategories(t){return this._HttpClient.get("Category",{params:t})}getCategorieById(t){return this._HttpClient.get(`Category/${t}`)}AddCategory(t){return this._HttpClient.post("Category",{name:t})}deletCategory(t){return this._HttpClient.delete(`Category/${t}`)}editCategory(t,a){return this._HttpClient.put(`Category/${t}`,{name:a})}static#e=this.\u0275fac=function(a){return new(a||n)(e.LFG(m.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y=i(2425),f=i(7862),b=i(4945);function T(n,N){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td")(10,"div",18)(11,"button",19),e._UZ(12,"i",20),e.qZA(),e.TgZ(13,"ul",21)(14,"li")(15,"a",22),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.openEditCategory(s))}),e.TgZ(16,"span"),e._UZ(17,"i",23),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Edit"),e.qZA()()(),e.TgZ(20,"li")(21,"a",22),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.openDeleteDialog(s))}),e.TgZ(22,"span"),e._UZ(23,"i",24),e.qZA(),e.TgZ(24,"span"),e._uU(25,"delete"),e.qZA()()()()()()()}if(2&n){const t=N.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,3,t.creationDate,"dd-MM-yyyy,hh mm,a")),e.xp6(3),e.Oqu(e.xi3(8,6,t.modificationDate,"dd-MM-yyyy,hh mm,a"))}}const Z=function(){return[5,10,20]};let _=(()=>{class n{constructor(t,a,o,s){this._CategoryService=t,this.dialog=a,this.ToastrService=o,this._HelperService=s,this.Message="",this.searchValue="",this.pageSize=20,this.isUpdatedpage=!1,this.pageNumber=1,this.TableData=[]}ngOnInit(){this.gettableData()}gettableData(){this._CategoryService.getCategories({pageSize:this.pageSize,PageNumber:this.pageNumber,name:this.searchValue}).subscribe({next:a=>{this.TableResponse=a,this.TableData=this.TableResponse?.data}})}handlePageEvent(t){console.log(t),this.pageSize=t.pageSize,this.pageNumber=this.TableResponse?.pageNumber,this.gettableData()}openAddDialog(){this.dialog.open(p,{data:{},width:"40%"}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),a&&this.onAddCategory(a)})}onAddCategory(t){this._CategoryService.AddCategory(t).subscribe({next:a=>{this.TableResponse=a,this.TableData=this.TableResponse?.data,this.Message=a.message},error:a=>{console.log(a.error.message)},complete:()=>{this.ToastrService.success(this.Message,"Category Added successfully"),this.gettableData()}})}ondeletCategory(t){this._CategoryService.deletCategory(t).subscribe({next:a=>{this.TableResponse=a,this.TableData=this.TableResponse?.data,this.Message=a.message},error:a=>{console.log(a)},complete:()=>{this.ToastrService.success(this.Message,"Category deleted successfully"),this.gettableData()}})}openDeleteDialog(t){console.log(t),this.dialog.open(h.F,{data:t,width:"40%"}).afterClosed().subscribe(o=>{console.log("The dialog was closed"),console.log(o),console.log(o.id),o&&this.ondeletCategory(o.id)})}openEditCategory(t){const a=this.dialog.open(p,{data:{CategoryName:t.name},width:"40%"});console.log(t.name),a.afterClosed().subscribe(o=>{o&&(console.log(o),this.onEditCategory(t.id,o))})}onEditCategory(t,a){this._CategoryService.editCategory(t,a).subscribe({next:o=>{console.log(o),this.Message=o.message},error:o=>{console.log(o.error.message)},complete:()=>{this.ToastrService.success(this.Message,"Successfully!"),this.gettableData()}})}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(C),e.Y36(g.uw),e.Y36(y._W),e.Y36(f.W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-categories"]],decls:38,vars:7,consts:[[1,"page-header"],[1,"container"],[1,"row","align-items-center","p-5"],[1,"col-9"],[1,"col-3"],[1,"text-end"],["src","assets/images/menu-avatar.svg","alt","",1,"w-75"],[1,"container","py-4"],[1,"row","py-3"],[1,"col-8"],["type","text","placeholder","search here","name","","id","",1,"form-control","rounded",3,"ngModel","keyup","ngModelChange"],[1,"col-2"],[1,"primary",3,"click"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"bg-info"],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["paginator",""],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","text-muted"],[1,"fa-solid","fa-ellipsis","fa-2x"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fa-solid","fa-pen-to-square","text-main"],[1,"fa-solid","fa-trash-can","text-main"]],template:function(a,o){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5," Categories "),e.TgZ(6,"span"),e._uU(7,"item"),e.qZA()(),e.TgZ(8,"p"),e._uU(9,"You can now add your items that any user can order it from the Application and you can edit "),e.qZA()(),e.TgZ(10,"div",4)(11,"div",5),e._UZ(12,"img",6),e.qZA()()()()(),e.TgZ(13,"section")(14,"div",7)(15,"div",8)(16,"div",9)(17,"input",10),e.NdJ("keyup",function(){return o.gettableData()})("ngModelChange",function(r){return o.searchValue=r}),e.qZA()(),e.TgZ(18,"div",11)(19,"button",12),e.NdJ("click",function(){return o.openAddDialog()}),e._uU(20,"Add New Category"),e.qZA()(),e._UZ(21,"div",11),e.qZA(),e.TgZ(22,"table",13)(23,"thead")(24,"tr")(25,"th"),e._uU(26,"name"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"creation Date"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"modification Date"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Action"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,T,26,9,"tr",14),e.qZA()(),e.TgZ(35,"div",15)(36,"mat-paginator",16,17),e.NdJ("page",function(r){return o.handlePageEvent(r)}),e.qZA()()()()),2&a&&(e.xp6(17),e.Q6J("ngModel",o.searchValue),e.xp6(17),e.Q6J("ngForOf",o.TableData),e.xp6(2),e.Q6J("length",null==o.TableResponse?null:o.TableResponse.totalNumberofRecordes)("pageSize",null==o.TableResponse?null:o.TableResponse.pageSize)("pageSizeOptions",e.DdM(6,Z))("pageIndex",null==o.TableResponse?null:o.TableResponse.pageNumber))},dependencies:[d.sg,b.NW,l.Fj,l.JJ,l.On,d.uU],styles:[".table[_ngcontent-%COMP%]{--bs-table-bg:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#e2e5eb;color:#3a3a3d;border-radius:15px}.table[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}return n})();var v=i(4581);const A=[{path:"",component:_}];let M=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#a=this.\u0275inj=e.cJS({imports:[d.ez,v.Bz.forChild(A),u.S]})}return n})()}}]);